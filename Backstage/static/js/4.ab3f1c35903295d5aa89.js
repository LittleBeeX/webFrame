webpackJsonp([4],{Yl4T:function(t,s,a){t.exports=a.p+"static/img/world.c929462.png"},iGIy:function(t,s){},sC7C:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=a("4YfN"),e=a.n(o),n=a("6iV/"),r=a.n(n),i=a("9rMa"),l=a("3Yup"),c={props:["BreadTitle"],data:function(){return{companyLogoSrc:"../../../static/images/fiveReason.png",userSrc:"../../../static/images/Yiming Wang.jpg",businessList:{rows:[{title:"日期",key:"date"},{title:"决议",key:"campaign"},{title:"状态",key:"type"}],cols:[]},companyList:[],companyMsgList:[{label:"公司名称",vals:""},{label:"注册地",vals:""},{label:"注册资本",vals:""},{label:"注册日期",vals:""},{label:"公司地址",vals:""}],userMsgList:[{label:"姓名",vals:""},{label:"国籍",vals:""},{label:"护照",vals:""},{label:"注册日期",vals:""},{label:"身份",vals:""},{label:"持股比例",vals:""}],isCreator:!1,constitution:{src:"javascript:void(0)",title:"暂无上传"}}},computed:e()({},Object(i.b)({Address:function(t){return t.web3.coinbase}})),watch:{$route:function(){this.mountedRefreshCompanyList(),this.mountedRefreshMsg(),this.mountedRefreshList()}},methods:{goCompanyList:function(t){this.$router.push({path:"Overview",query:{only:t}})},mountedRefreshCompanyList:function(){var t=this,s={address:this.Address};this.$axios({method:"post",url:"/index.php/cn/home/node_se/company_list",data:r.a.stringify(s)}).then(function(s){0==s.data.state&&(t.companyList=s.data.info)})},handleFormatError:function(t){this.$Notice.warning({title:"文件提交错误！"})},userUpSuccess:function(t,s){this.userSrc=t.portrait},companyUpSuccess:function(t,s){this.companyLogoSrc=t.logo},fileUpSuccess:function(t,s){this.constitution.src=t.zhangcheng,this.constitution.title="公司章程"},mountedRefreshMsg:function(){var t=this,s={only:this.$route.query.only,address:this.Address};this.$axios({method:"post",url:"/index.php/cn/home/node_se/company_individual",data:r.a.stringify(s)}).then(function(s){if(0==s.data.state){for(var a=s.data.info.chain,o=s.data.info.company,e=[o.name,o.establish,o.capital,l.a.timestampToTime(o.establish),o.address],n=[a.surname+a.name,a.country_cn,a.passports,l.a.timestampToTime(a.create_time),"董事",a.token_proportion],r=0;r<t.userMsgList.length;r++)t.userMsgList[r].vals=n[r];for(var i=0;i<t.companyMsgList.length;i++)t.companyMsgList[i].vals=e[i];return t.isCreator=o.creator,""!=o.logo&&(t.companyLogoSrc=o.logo),""!=o.zhangcheng&&(t.constitution.src=o.zhangcheng,t.constitution.title="公司章程"),""!=a.portrait&&(t.userSrc=a.portrait),!0}return t.$Notice.warning({title:"无该成员信息！"}),t.$router.push({path:"/"}),!1})},mountedRefreshList:function(){var t=this,s={only:this.$route.query.only,address:this.Address,state:0};this.$axios({method:"post",url:"/index.php/cn/home/node_se/meeting_list",data:r.a.stringify(s)}).then(function(s){if(0==s.data.state){for(var a=s.data.info,o=0;o<a.length;o++)t.businessList.cols.push({date:a[o].start_time,campaign:a[o].content,type:a[o].state});return!0}return t.$Notice.warning({title:"无该成员信息！"}),t.$router.push({path:"/"}),!1})}},mounted:function(){this.mountedRefreshCompanyList(),this.mountedRefreshMsg(),this.mountedRefreshList()}},d={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",[o("Breadcrumb",{staticClass:"bread"},[o("div",{staticClass:"title"},[t._v("主页")])]),t._v(" "),o("div",[o("Row",[o("Col",{attrs:{span:"10"}},[o("Card",{staticClass:"companyMessage",attrs:{bordered:!1}},[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("公司信息")]),t._v(" "),o("div",{staticClass:"msgBoard"},[o("div",{staticClass:"logo"},[o("img",{attrs:{src:t.companyLogoSrc,mode:""}})]),t._v(" "),o("div",{staticClass:"msg"},[t._l(t.companyMsgList,function(s){return o("p",[o("b",[t._v(t._s(s.label))]),t._v(t._s(s.vals))])}),t._v(" "),o("p",[o("b",[t._v("公司章程")]),o("a",{attrs:{href:t.constitution.src}},[t._v(t._s(t.constitution.title))])])],2)]),t._v(" "),o("div",{staticClass:"btn"},[o("Upload",{ref:"upload",attrs:{"show-upload-list":!1,"on-success":t.companyUpSuccess,format:["jpg","jpeg","png"],"max-size":2048,data:{address:t.Address,only:t.$route.query.only},"on-format-error":t.handleFormatError,multiple:"",name:"logo",action:"/index.php/cn/home/node_su/company_logo"}},[o("Button",{attrs:{type:"primary",icon:"ios-cloud-upload-outline"}},[t._v("提交公司logo")])],1),t._v(" "),t.isCreator?o("Upload",{attrs:{"on-success":t.fileUpSuccess,"show-upload-list":!1,"on-format-error":t.handleFormatError,data:{address:t.Address,only:t.$route.query.only},format:["doc","docx","xls","xlsx","ppt","pptx","pdf","pdfx"],name:"zhangcheng",action:"/index.php/cn/home/node_su/company_zhangcheng"}},[o("Button",{attrs:{type:"primary",icon:"ios-cloud-upload-outline"}},[t._v("提交公司章程")])],1):t._e()],1)])],1),t._v(" "),o("Col",{attrs:{span:"14"}},[o("Card",{staticClass:"world",attrs:{bordered:!1}},[o("Dropdown",{staticClass:"world-dropdown",on:{"on-click":t.goCompanyList}},[o("Button",{attrs:{type:"primary"}},[t._v("\n\t\t\t\t\t\t\t公司跳转\n\t\t\t\t\t\t\t"),o("Icon",{attrs:{type:"ios-arrow-down"}})],1),t._v(" "),o("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.companyList,function(s){return o("DropdownItem",{attrs:{name:s.only}},[t._v(t._s(s.name))])}))],1),t._v(" "),o("img",{attrs:{src:a("Yl4T"),mode:""}})],1)],1)],1),o("Row",[o("Col",{attrs:{span:"10"}},[o("Card",{staticClass:"userMessage",attrs:{bordered:!1}},[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("个人信息")]),t._v(" "),o("div",{staticClass:"msgBoard"},[o("div",{staticClass:"logo"},[o("img",{attrs:{src:t.userSrc,mode:""}})]),t._v(" "),o("div",{staticClass:"msg"},t._l(t.userMsgList,function(s){return o("p",[o("b",[t._v(t._s(s.label))]),t._v(t._s(s.vals))])}))]),t._v(" "),o("div",{staticClass:"btn"},[o("Upload",{ref:"upload",attrs:{"show-upload-list":!1,"on-success":t.userUpSuccess,format:["jpg","jpeg","png"],"max-size":2048,data:{address:t.Address,only:t.$route.query.only},"on-format-error":t.handleFormatError,multiple:"",name:"portrait",action:"/index.php/cn/home/node_su/chain_portrait"}},[o("Button",{attrs:{type:"primary",icon:"ios-cloud-upload-outline"}},[t._v("提交个人头像")])],1)],1)])],1),t._v(" "),o("Col",{attrs:{span:"14"}},[o("Card",{staticClass:"companyBusiness",attrs:{bordered:!1}},[o("p",{attrs:{slot:"title"},slot:"title"},[t._v("公司动态")]),t._v(" "),o("Table",{attrs:{height:"300",columns:t.businessList.rows,data:t.businessList.cols}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(c,d,!1,function(t){a("iGIy")},"data-v-dd3ccbfa",null);s.default=u.exports}});
//# sourceMappingURL=4.ab3f1c35903295d5aa89.js.map