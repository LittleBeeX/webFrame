webpackJsonp([8],{"0FGY":function(t,e){},WBkb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("6iV/"),s=a.n(n),i=a("9rMa"),o=a("jel3"),r=a.n(o),c={data:function(){return{companyName:"",loading:!1,isClick:!1,isHaveETH:!0,balanceOf:0}},computed:Object(i.b)({Address:function(t){return t.web3.coinbase}}),methods:{openOrganization:function(){var t=this,e={only:this.companyName,address:this.Address};this.$axios({method:"post",url:"/index.php/cn/home/node_se/company_individual",data:s.a.stringify(e)}).then(function(e){0==e.data.state?e.data.info.company.creator?2==e.data.info.company.state&&2==e.data.info.chain.state?t.$router.push({path:"../home/Overview",query:{only:t.companyName}}):2!=e.data.info.company.state?t.$router.push({path:"companyIdent",query:{only:t.companyName}}):t.$router.push({path:"UserIdent",query:{only:t.companyName}}):2==e.data.info.chain.state?t.$router.push({path:"../home/Overview",query:{only:t.companyName}}):t.$router.push({path:"UserIdent",query:{only:t.companyName}}):2==e.data.state?t.$Notice.warning({title:"暂无当前组织！"}):4==e.data.state&&t.$router.push({path:"UserIdent",query:{only:t.companyName}})})},createOrganization:function(){this.$router.push({path:"UserIdent"})},takeRopstenToken:function(){var t=this;this.$store.state.tokenInstance().methods.balanceOf(this.Address).call({from:this.Address}).then(function(e){if(t.balanceOf=e/Math.pow(10,18),t.balanceOf>=1e5)t.$Notice.warning({title:"已经获取足够TOKEN，请勿重新获取！"});else{var a=t;String(Math.pow(10,18)).split("").slice(1).join("");t.$store.state.tokenInstance().methods.airdropNum(t.Address).send({from:t.Address,gasPrice:"40000000000"}).on("transactionHash",function(t){a.$Spin.show({render:function(t){return t("div",[t("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:32}}),t("div","正在处理")])}})}).then(function(e){t.$Spin.hide(),t.$Notice.success({title:"您的测试TOKEN已获取成功，<br/>请进入Metamask钱包查看！"})})}})}},watch:{companyName:function(){this.isClick=""!=this.companyName}},created:function(){var t=this;new r.a(window.web3.currentProvider).eth.getBalance(this.Address).then(function(e){t.isHaveETH=!(e>0)})}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index-board"},[a("div",{staticClass:"inner"},[a("h2",[t._v("欢迎来到LittleBeeX")]),t._v(" "),a("p",{staticClass:"node"},[t._v("\n\t\t\t当前节点：以太坊测试网(Ropsten)\n\t\t\t"),a("span",{staticClass:"hint"},[t._v("请先解锁Metamask钱包，并选择所需的服务器节点")]),t._v(" "),a("Button",{attrs:{type:"primary",disabled:t.isHaveETH},on:{click:t.takeRopstenToken}},[t._v("获取测试TOKEN")]),t._v(" "),a("Button",{attrs:{type:"primary"}},[a("a",{attrs:{href:"https://faucet.ropsten.be/",target:"_blank"}},[t._v("获取(Ropsten)节点ETH")])])],1),t._v(" "),a("div",{staticClass:"config-item"},[a("label",[t._v("创建一个新组织，并开始KYC组织认证")]),t._v(" "),a("Button",{attrs:{type:"primary",disabled:t.isHaveETH},on:{click:t.createOrganization}},[t._v("开始创建")]),t._v(" "),a("br"),t._v(" "),t.isHaveETH?a("p",[t._v("你的ETH余额为0，请先获取不少于0.1ETH")]):t._e()],1),t._v(" "),a("div",{staticClass:"config-item"},[a("label",[t._v("或打开现有组织")]),t._v(" "),a("p",[a("Input",{attrs:{size:"large",maxlength:20,type:"text"},model:{value:t.companyName,callback:function(e){t.companyName=e},expression:"companyName"}})],1),t._v(" "),a("Button",{staticClass:"open",attrs:{type:"primary",disabled:!t.isClick,loading:t.loading},on:{click:t.openOrganization}},[t._v("打开组织")])],1)])])},staticRenderFns:[]};var p=a("C7Lr")(c,d,!1,function(t){a("0FGY"),a("b99o")},"data-v-2144cce8",null);e.default=p.exports},b99o:function(t,e){}});
//# sourceMappingURL=8.4e81ee7345d98088a025.js.map