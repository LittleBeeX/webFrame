webpackJsonp([7],{"5IAf":function(e,t){},BUFa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("6iV/"),o=n.n(a),s=n("9rMa"),r=n("3Yup"),i={data:function(){return{helpBox:!1,companyIdent:{Name:"",Number:"",Site:"",Fund:"",BirDate:"",IdentCode:""},companyType:{isShow:!1,setMes:"",type:"info"},nationalityList:[{country:"中国",en:"China",code:"86"},{country:"中国香港",en:"Hong Kong",code:"852"}],companyIsIdint:!1,ruleInline:{Name:[{required:!0,message:"请输入公司名称",trigger:"blur"}],Number:[{required:!0,message:"请输入注册号码",trigger:"blur"}],Site:[{required:!0,message:"请选择注册国家",trigger:"change"}],Fund:[{required:!0,message:"请输入注册资本",trigger:"blur"}],BirDate:[{required:!0,message:"请选择成立日期",trigger:"change",type:"date"}],IdentCode:[{required:!0,message:"请输入链上组织名称",trigger:"blur"}]}}},computed:Object(s.b)({Address:function(e){return e.web3.coinbase}}),methods:{backUser:function(){var e=void 0!=this.$route.query.only?this.$route.query.only:null;this.$router.push({path:"UserIdent",query:{only:e}})},goTokenSet:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var n={code:t.companyIdent.Number,name:t.companyIdent.Name,address:t.companyIdent.Site,capital:t.companyIdent.Fund,only:t.companyIdent.IdentCode,establish:t.companyIdent.BirDate};t.$axios({method:"post",url:"/index.php/cn/home/node_su/company_tijiao",data:o.a.stringify(n)}).then(function(e){0==e.data.state?void 0!=t.$route.query.only&&"error"==t.userType.type?(t.$Notice.success({title:"公司信息已重新提交，请等待审核通过！"}),t.$router.push({path:"/"})):t.$router.push({path:"TokenSet",query:{only:t.companyIdent.IdentCode}}):t.$Notice.warning({title:"该组织名称已被占用！"})})}else t.$Notice.warning({title:"请填写完整的公司认证信息！"})})},isIdentCode:function(e){var t=this;if(""!=this.companyIdent.IdentCode)if(this.companyIdent.IdentCode!=this.$route.query.only){var n={address:this.Address,only:this.companyIdent.IdentCode};this.$axios({method:"post",url:"/index.php/cn/home/node_se/company_individual",data:o.a.stringify(n)}).then(function(e){2==e.data.state?t.$Notice.success({title:"该组织名称暂未被占用！"}):t.$Notice.warning({title:"该组织名称已被占用！"})})}else this.$Notice.success({title:"该组织名称暂未被占用！"});else this.$Notice.warning({title:"组织名称不能为空！"})}},created:function(){var e=this;this.$axios.post("/index.php/cn/home/node_se/nationality").then(function(t){if(e.nationalityList=t.data.info,void 0!=e.$route.query.only){var n={address:e.Address,only:e.$route.query.only};e.$axios({method:"post",url:"/index.php/cn/home/node_se/company_individual",data:o.a.stringify(n)}).then(function(t){var n=t.data.info.company;0==t.data.state&&(e.companyIdent.Number=n.code,e.companyIdent.Name=n.name,e.companyIdent.Site=n.address,e.companyIdent.BirDate=r.a.timestampToTime(n.establish),e.companyIdent.Fund=n.capital,e.companyIdent.IdentCode=n.only),1==n.state?(e.companyType.isShow=!0,e.companyType.setMes="公司认证正在加速审核中，请耐心等耐！",e.companyIsIdint=!0):3==n.state?(e.companyType.isShow=!0,e.companyType.type="error",e.companyType.setMes=n.remarks,e.companyIsIdint=!1):2==n.state&&(e.companyType.isShow=!0,e.companyType.setMes="公司认证审核已经通过！",e.companyIsIdint=!0)})}})}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index-board"},[n("div",{staticClass:"inner"},[n("h3",[e._v("公司信息认证"),n("Icon",{attrs:{type:"ios-help-circle-outline",color:"#2d8cf0",size:"22"},on:{click:function(t){e.helpBox=!e.helpBox}}})],1),e._v(" "),n("div",[n("Form",{ref:"companyIdent",attrs:{model:e.companyIdent,"label-position":"left","label-width":75,inline:"",rules:e.ruleInline}},[n("FormItem",{staticClass:" w66",attrs:{label:"公司名称",prop:"Name"}},[n("Input",{attrs:{size:"large",placeholder:"请输入公司名称",readonly:e.companyIsIdint},model:{value:e.companyIdent.Name,callback:function(t){e.$set(e.companyIdent,"Name",t)},expression:"companyIdent.Name"}})],1),n("br"),e._v(" "),n("FormItem",{attrs:{label:"注册号码",prop:"Number"}},[n("Input",{attrs:{size:"large",placeholder:"请输入注册号码",readonly:e.companyIsIdint},model:{value:e.companyIdent.Number,callback:function(t){e.$set(e.companyIdent,"Number",t)},expression:"companyIdent.Number"}})],1),e._v(" "),n("FormItem",{attrs:{label:"注册国家",prop:"Site"}},[n("Select",{attrs:{readonly:e.companyIsIdint,size:"large"},model:{value:e.companyIdent.Site,callback:function(t){e.$set(e.companyIdent,"Site",t)},expression:"companyIdent.Site"}},e._l(e.nationalityList,function(t,a){return n("Option",{key:a,attrs:{value:a,label:t.country}},[n("span",[e._v(e._s(t.country))]),e._v(" "),n("span",{staticStyle:{float:"right",color:"#ccc"}},[e._v(e._s(t.en))])])}),1)],1),e._v(" "),n("FormItem",{attrs:{label:"注册资本",prop:"Fund"}},[n("Input",{attrs:{size:"large",placeholder:"请输入注册资本",readonly:e.companyIsIdint},model:{value:e.companyIdent.Fund,callback:function(t){e.$set(e.companyIdent,"Fund",t)},expression:"companyIdent.Fund"}},[n("span",{attrs:{slot:"append"},slot:"append"},[e._v("USD$")])])],1),e._v(" "),n("FormItem",{attrs:{label:"成立日期",prop:"BirDate"}},[n("DatePicker",{staticStyle:{width:"100%"},attrs:{size:"large",type:"date",placeholder:"请选择成立日期",readonly:e.companyIsIdint},model:{value:e.companyIdent.BirDate,callback:function(t){e.$set(e.companyIdent,"BirDate",t)},expression:"companyIdent.BirDate"}})],1),e._v(" "),n("FormItem",{staticClass:"only",attrs:{label:"链上组织名称",prop:"IdentCode"}},[n("Input",{attrs:{placeholder:"请输入链上组织名称",size:"large",readonly:e.companyIsIdint},model:{value:e.companyIdent.IdentCode,callback:function(t){e.$set(e.companyIdent,"IdentCode",t)},expression:"companyIdent.IdentCode"}},[n("Button",{attrs:{slot:"append"},on:{click:function(t){e.isIdentCode(e.companyIdent.IdentCode)}},slot:"append"},[n("Icon",{attrs:{type:"ios-search",size:"16"}})],1)],1)],1)],1),e._v(" "),e.companyType.isShow?n("Alert",{attrs:{type:e.companyType.type}},[e._v(e._s(e.companyType.setMes))]):n("div",{staticClass:"btn-con"},[n("Button",{staticClass:"fl",attrs:{type:"primary"},on:{click:function(t){e.backUser()}}},[n("Icon",{attrs:{type:"ios-arrow-back"}}),e._v("\n\t\t\t\t\t上一步\n\t\t\t\t")],1),e._v(" "),n("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){e.goTokenSet("companyIdent")}}},[e._v("\n\t\t\t\t\t下一步\n\t\t\t\t\t"),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1),e._v(" "),"error"==e.companyType.type?n("div",{staticClass:"btn-con"},[n("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){e.goTokenSet("companyIdent")}}},[e._v("\n\t\t\t\t\t提交\n\t\t\t\t\t"),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1):e._e()],1)]),e._v(" "),n("Modal",{attrs:{title:"公司信息认证","ok-text":"OK","class-name":"vertical-center-modal","cancel-text":"Cancel"},model:{value:e.helpBox,callback:function(t){e.helpBox=t},expression:"helpBox"}},[n("p",[e._v("链上组织名称：链上组织名称是你在线治理公司的组织名称，唯一且不可更改！建议使用与公司名称相同的组织名称，设置前请先检查你的组织名称是否可用。")]),e._v(" "),n("p",{staticClass:"tipMsg",attrs:{slot:"footer"},slot:"footer"},[e._v("链上组织名称设置成功后无法进行修改，因此请认真填写")])])],1)},staticRenderFns:[]};var d=n("C7Lr")(i,c,!1,function(e){n("5IAf"),n("xzhV")},"data-v-333cf62c",null);t.default=d.exports},xzhV:function(e,t){}});
//# sourceMappingURL=7.533f7a8a81628e66dc9a.js.map