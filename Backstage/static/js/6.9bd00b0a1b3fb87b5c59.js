webpackJsonp([6],{Z9Fv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("4Xi4"),r=n.n(o),s=n("6iV/"),a=n.n(s),i=n("3Yup"),l={data:function(){return{helpBox:!1,btnTypes:!0,tokenIdent:{support:"",quorum:"",duration:"",token_name:"",token_symbol:"",token_number:"",labelWidth:75},approve:{type:!1,text:"当前公司信息审核中"},ruleInline:{support:[{required:!0,message:this.$t("indeToken.msg1_1"),trigger:"blur"},{validator:p,trigger:"blur"}],quorum:[{required:!0,message:this.$t("indeToken.msg2_1"),trigger:"blur"},{validator:p,trigger:"blur"}],duration:[{required:!0,message:this.$t("indeToken.msg3_1"),trigger:"blur"},{validator:p,trigger:"blur"}],token_name:[{required:!0,message:this.$t("indeToken.msg4_1"),trigger:"blur"}],token_symbol:[{required:!0,message:this.$t("indeToken.msg5_1"),trigger:"blur"},{validator:m,trigger:"blur"}],token_number:[{required:!0,message:this.$t("indeToken.msg6_1"),trigger:"blur"},{validator:u,trigger:"blur"}]}}},methods:{backConfig:function(){this.$router.push({path:"CompanyIdent",query:{only:this.$route.query.only}})},goTokenPayment:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var n={only:t.$route.query.only,support:t.tokenIdent.support,quorum:t.tokenIdent.quorum,duration:t.tokenIdent.duration,token_name:t.tokenIdent.token_name,token_symbol:t.tokenIdent.token_symbol,token_number:t.tokenIdent.token_number};t.$axios({method:"post",url:"/index.php/cn/home/node_su/token",data:a.a.stringify(n)}).then(function(e){0==e.data.state&&t.$router.push({path:"TokenPayment",query:{only:t.$route.query.only}})})}else t.$Notice.warning({title:t.$t("indeToken.errorMsg1")})})}},created:function(){var e=this;if(this.labelWidth="cn"==i.a.getSection("lang")?75:175,d=this,"undefined"!=this.$route.query.only){var t={address:this.$store.state.web3.coinbase,only:this.$route.query.only};this.$axios({method:"post",url:"/index.php/cn/home/node_se/company_individual",data:a.a.stringify(t)}).then(function(t){var n=t.data.info.company;0==t.data.state&&""!=n.token_name&&(e.tokenIdent.support=n.support,e.tokenIdent.quorum=n.quorum,e.tokenIdent.duration=n.duration,e.tokenIdent.token_name=n.token_name,e.tokenIdent.token_symbol=n.token_symbol,e.tokenIdent.token_number=n.token_number,0!=n.state&&(e.btnTypes=!1))})}else this.$Notice.warning({title:this.$t("indeToken.errorMsg7")}),this.$router.push({path:"/"})}},d=void 0,u=function(e,t,n){r()(+t)?n():n(new Error(d.$t("indeToken.errorMsg2")))},p=function(e,t,n){r()(+t)?t>100||t<0?n(new Error(d.$t("indeToken.errorMsg3"))):n():n(new Error(d.$t("indeToken.errorMsg2")))},k=new RegExp("^[A-Z]+$"),m=function(e,t,n){k.test(t)?n():n(new Error(d.$t("indeToken.errorMsg4")))},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index-board"},[n("div",{staticClass:"inner"},[n("h3",[e._v(e._s(e.$t("indeToken.msg0"))),n("Icon",{attrs:{type:"ios-help-circle-outline",color:"#2d8cf0",size:"22"},on:{click:function(t){e.helpBox=!e.helpBox}}})],1),e._v(" "),n("div",[n("Form",{ref:"tokenIdent",attrs:{model:e.tokenIdent,"label-position":"left","label-width":e.labelWidth,inline:"",rules:e.ruleInline}},[n("FormItem",{attrs:{label:e.$t("indeToken.msg1"),prop:"support"}},[n("Input",{attrs:{size:"large",placeholder:"50"},model:{value:e.tokenIdent.support,callback:function(t){e.$set(e.tokenIdent,"support",t)},expression:"tokenIdent.support"}},[n("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("indeToken.msg2"),prop:"quorum"}},[n("Input",{attrs:{size:"large",placeholder:"15"},model:{value:e.tokenIdent.quorum,callback:function(t){e.$set(e.tokenIdent,"quorum",t)},expression:"tokenIdent.quorum"}},[n("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("indeToken.msg3"),prop:"duration"}},[n("Input",{attrs:{size:"large",placeholder:"24"},model:{value:e.tokenIdent.duration,callback:function(t){e.$set(e.tokenIdent,"duration",t)},expression:"tokenIdent.duration"}},[n("span",{attrs:{slot:"append"},slot:"append"},[e._v("H")])])],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("indeToken.msg4"),prop:"token_name"}},[n("Input",{attrs:{size:"large",placeholder:e.$t("indeToken.msg4_1")},model:{value:e.tokenIdent.token_name,callback:function(t){e.$set(e.tokenIdent,"token_name",t)},expression:"tokenIdent.token_name"}})],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("indeToken.msg5"),prop:"token_symbol"}},[n("Input",{attrs:{size:"large",placeholder:e.$t("indeToken.msg5_1")},model:{value:e.tokenIdent.token_symbol,callback:function(t){e.$set(e.tokenIdent,"token_symbol",t)},expression:"tokenIdent.token_symbol"}})],1),e._v(" "),n("FormItem",{attrs:{label:e.$t("indeToken.msg6"),prop:"token_number"}},[n("Input",{attrs:{size:"large",placeholder:e.$t("indeToken.msg6_1")},model:{value:e.tokenIdent.token_number,callback:function(t){e.$set(e.tokenIdent,"token_number",t)},expression:"tokenIdent.token_number"}})],1)],1),e._v(" "),e.btnTypes?n("div",{staticClass:"btn-con"},[n("Button",{staticClass:"fl",attrs:{type:"primary"},on:{click:function(t){e.backConfig()}}},[n("Icon",{attrs:{type:"ios-arrow-back"}}),e._v("\n\t\t\t\t\t"+e._s(e.$t("btn1"))+"\n\t\t\t\t")],1),e._v(" "),n("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){e.goTokenPayment("tokenIdent")}}},[e._v("\n\t\t\t\t\t"+e._s(e.$t("btn2"))+"\n\t\t\t\t\t"),n("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1):e._e()],1)]),e._v(" "),n("Modal",{attrs:{title:e.$t("indeToken.msg0"),"class-name":"vertical-center-modal"},model:{value:e.helpBox,callback:function(t){e.helpBox=t},expression:"helpBox"}},[n("p",[e._v(e._s(e.$t("indeToken.msg7")))]),e._v(" "),n("p",[e._v(e._s(e.$t("indeToken.msg8")))]),e._v(" "),n("p",[e._v(e._s(e.$t("indeToken.msg9")))]),e._v(" "),n("p",{staticClass:"tipMsg",attrs:{slot:"footer"},slot:"footer"},[e._v(e._s(e.$t("indeToken.msg10")))])])],1)},staticRenderFns:[]};var _=n("C7Lr")(l,c,!1,function(e){n("lbCr"),n("mADA")},"data-v-ed7f972e",null);t.default=_.exports},lbCr:function(e,t){},mADA:function(e,t){}});
//# sourceMappingURL=6.9bd00b0a1b3fb87b5c59.js.map