webpackJsonp([4],{"3gUE":function(e,t){},GPdl:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("4YfN"),n=s.n(r),i=s("6iV/"),a=s.n(i),o=s("9rMa"),l=s("3Yup"),d={data:function(){return{isCreator:!0,file:null,loadingStatus:!1,labelWidth:75,userType:{isShow:!1,setMes:"",type:"info"},userIsIdint:!1,userIdent:{name:"",surname:"",passports:"",sex:"",position:"",nationality:"",birDate:""},sexList:[{value:"1",label:this.$t("indexUser.msg3_2")},{value:"2",label:this.$t("indexUser.msg3_3")}],positionList:[{value:"2",label:this.$t("indexUser.msg8_2")},{value:"1",label:this.$t("indexUser.msg8_3")},{value:"4",label:this.$t("indexUser.msg8_4")},{value:"3",label:this.$t("indexUser.msg8_5")},{value:"5",label:this.$t("indexUser.msg8_6")}],nationalityList:[{country:"中国",en:"China",code:"86"},{country:"中国香港",en:"Hong Kong",code:"852"}],ruleInline:{name:[{required:!0,message:this.$t("indexUser.msg1_1"),trigger:"blur"}],surname:[{required:!0,message:this.$t("indexUser.msg2_1"),trigger:"blur"}],passports:[{required:!0,message:this.$t("indexUser.msg6_1"),trigger:"blur"}],birDate:[{required:!0,type:"date",message:this.$t("indexUser.msg5_1"),trigger:"change"}],sex:[{required:!0,message:this.$t("indexUser.msg3_1"),trigger:"change"}],position:[{required:!0,message:this.$t("indexUser.msg8_1"),trigger:"change"}],nationality:[{required:!0,message:this.$t("indexUser.msg4_1"),trigger:"change"}]},defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:s("Qz9g")}],imgUrl:"",visible:!1,uploadList:[],onlys:""}},computed:n()({},Object(o.b)({Address:function(e){return e.web3.coinbase}})),methods:{backConfig:function(){this.$router.push({path:"Config"})},goCompany:function(e){var t=this;this.$refs[e].validate(function(e){if(e)if(t.uploadList[0]==t.defaultList[0])t.$Notice.warning({title:t.$t("indexUser.errorMsg3")});else{var s={address:t.Address,name:t.userIdent.name,surname:t.userIdent.surname,passports:t.userIdent.passports,sex:t.userIdent.sex,position:t.userIdent.position,nationality:t.userIdent.nationality,birthtime:t.userIdent.birDate,only:t.onlys};t.$axios({method:"post",url:"/index.php/cn/home/node_su/geren_tijiao",data:a.a.stringify(s)}).then(function(e){0==e.data.state&&(void 0!=t.$route.query.only?"error"==t.userType.type?(t.$Notice.success({title:t.$t("indexUser.tipMsg1")}),t.$router.push({path:"/"})):t.$router.push({path:"TokenPayment",query:{only:t.onlys}}):t.$router.push({path:"companyIdent"}))})}else t.$Notice.warning({title:t.$t("indexUser.errorMsg1")})})},handleView:function(e){this.imgUrl=e,this.visible=!0},handleSuccess:function(e,t){t.url=e.picture,t.name="7eb99afb9d5f317c912f08b5212fd69a"},handleFormatError:function(e){this.$Notice.warning({title:this.$t("indexUser.errorMsg2")})},handleBeforeUpload:function(e){var t=this.$refs.upload.fileList;return this.$refs.upload.fileList.splice(t.indexOf(e),1),!0}},created:function(){var e=this;if(this.$axios.post("/index.php/cn/home/node_se/nationality").then(function(t){e.nationalityList=t.data.info}),void 0!=this.$route.query.only){this.isCreator=!1,this.onlys=this.$route.query.only;var t={address:this.Address,only:this.onlys};this.$axios({method:"post",url:"/index.php/cn/home/node_se/company_individual",data:a.a.stringify(t)}).then(function(t){var s=t.data.info.chain;0==t.data.state&&(0!=s.state&&(e.userIdent.surname=s.surname,e.userIdent.passports=s.passports,e.userIdent.name=s.name,e.userIdent.sex=s.sex,e.userIdent.nationality=s.nationality,e.userIdent.position=s.position,e.userIdent.birDate=l.a.timestampToTime(s.birthtime),e.defaultList[0].url=s.picture,1==s.state?(e.userType.isShow=!0,e.userType.setMes=e.$t("indexUser.tipMsg2"),e.userIsIdint=!0):3==s.state?(e.userType.isShow=!0,e.userType.type="error",e.userType.setMes=e.$t("indexUser.tipMsg3"),e.nextBtn=!0):2==s.state&&(e.userType.isShow=!0,e.userType.setMes=e.$t("indexUser.tipMsg4"),e.userIsIdint=!0)),t.data.info.company.creator&&(e.isCreator=!0))})}else this.onlys="",this.isCreator=!0},mounted:function(){this.uploadList=this.$refs.upload.fileList,this.labelWidth="cn"==l.a.getSection("lang")?75:175,console.log(l.a.getSection("lang"))}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index-board"},[s("div",{staticClass:"inner"},[e.isCreator?s("h3",[e._v(e._s(e.$t("indexUser.msg0")))]):s("h3",[e._v(e._s(e.$t("indexUser.msg0_1")))]),e._v(" "),s("div",[s("Form",{ref:"userIdent",attrs:{model:e.userIdent,"label-position":"left","label-width":e.labelWidth,inline:"",rules:e.ruleInline}},[s("FormItem",{attrs:{label:e.$t("indexUser.msg1"),prop:"name"}},[s("Input",{attrs:{size:"large",placeholder:e.$t("indexUser.msg1_1"),readonly:e.userIsIdint},model:{value:e.userIdent.name,callback:function(t){e.$set(e.userIdent,"name",t)},expression:"userIdent.name"}})],1),e._v(" "),s("FormItem",{attrs:{label:e.$t("indexUser.msg2"),prop:"surname"}},[s("Input",{attrs:{size:"large",placeholder:e.$t("indexUser.msg2_1"),readonly:e.userIsIdint},model:{value:e.userIdent.surname,callback:function(t){e.$set(e.userIdent,"surname",t)},expression:"userIdent.surname"}})],1),s("br"),e._v(" "),s("FormItem",{attrs:{label:e.$t("indexUser.msg3"),prop:"sex"}},[s("Select",{attrs:{readonly:e.userIsIdint,placeholder:e.$t("indexUser.msg3_1")},model:{value:e.userIdent.sex,callback:function(t){e.$set(e.userIdent,"sex",t)},expression:"userIdent.sex"}},e._l(e.sexList,function(t){return s("Option",{key:t.value,attrs:{size:"large",value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),s("FormItem",{attrs:{label:e.$t("indexUser.msg4"),prop:"nationality"}},[s("Select",{attrs:{readonly:e.userIsIdint,size:"large",placeholder:e.$t("indexUser.msg4_1")},model:{value:e.userIdent.nationality,callback:function(t){e.$set(e.userIdent,"nationality",t)},expression:"userIdent.nationality"}},e._l(e.nationalityList,function(t,r){return s("Option",{key:r,attrs:{value:r,label:t.country}},[s("span",[e._v(e._s(t.country))]),e._v(" "),s("span",{staticStyle:{float:"right",color:"#ccc"}},[e._v(e._s(t.en))])])}),1)],1),s("br"),e._v(" "),s("FormItem",{attrs:{label:e.$t("indexUser.msg5"),prop:"birDate"}},[s("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",size:"large",placeholder:e.$t("indexUser.msg5_1"),readonly:e.userIsIdint},model:{value:e.userIdent.birDate,callback:function(t){e.$set(e.userIdent,"birDate",t)},expression:"userIdent.birDate"}})],1),e._v(" "),s("FormItem",{attrs:{label:e.$t("indexUser.msg6"),prop:"passports"}},[s("Input",{attrs:{size:"large",placeholder:e.$t("indexUser.msg6_1"),readonly:e.userIsIdint},model:{value:e.userIdent.passports,callback:function(t){e.$set(e.userIdent,"passports",t)},expression:"userIdent.passports"}})],1),e._v(" "),s("br"),e._v(" "),s("FormItem",{staticClass:"address",attrs:{label:e.$t("indexUser.msg7")}},[s("Input",{attrs:{size:"large",readonly:""},model:{value:e.Address,callback:function(t){e.Address=t},expression:"Address"}})],1),e._v(" "),s("FormItem",{attrs:{label:e.$t("indexUser.msg8"),prop:"position"}},[s("Select",{attrs:{readonly:e.userIsIdint,placeholder:e.$t("indexUser.msg8_1")},model:{value:e.userIdent.position,callback:function(t){e.$set(e.userIdent,"position",t)},expression:"userIdent.position"}},e._l(e.positionList,function(t){return s("Option",{key:t.value,attrs:{size:"large",value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),s("br"),e._v(" "),s("FormItem",{attrs:{label:e.$t("indexUser.msg9")}},[s("Upload",{ref:"upload",attrs:{readonly:e.userIsIdint,data:{address:e.Address,name:e.userIdent.name,surname:e.userIdent.surname,passports:e.userIdent.passports,sex:e.userIdent.sex,position:e.userIdent.position,nationality:e.userIdent.nationality,birthtime:e.userIdent.birDate,only:e.onlys},"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.handleFormatError,"before-upload":e.handleBeforeUpload,multiple:"",name:"picture",action:"/index.php/cn/home/node_su/geren_tijiao"}},[s("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.$t("indexUser.btn1")))])],1),e._v(" "),s("Modal",{attrs:{title:e.$t("indexUser.msg10"),"ok-text":"","cancel-text":""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?s("img",{staticStyle:{width:"100%"},attrs:{src:e.imgUrl}}):e._e(),e._v(" "),s("p",{staticClass:"tipMsg",attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),e._l(e.uploadList,function(t,r){return s("div",{staticClass:"demo-upload-list"},["finished"===t.status?[s("img",{attrs:{src:t.url}}),e._v(" "),s("div",{staticClass:"demo-upload-list-cover"},[s("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(s){e.handleView(t.url)}}})],1)]:[t.showProgress?s("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)})],2)],1),e._v(" "),e.userType.isShow?s("Alert",{attrs:{type:e.userType.type}},[e._v(e._s(e.userType.setMes))]):s("div",{staticClass:"btn-con"},[s("Button",{staticClass:"fl",attrs:{type:"primary"},on:{click:function(t){e.backConfig()}}},[s("Icon",{attrs:{type:"ios-arrow-back"}}),e._v("\n\t\t\t\t\t"+e._s(e.$t("btn1"))+"\n\t\t\t\t")],1),e._v(" "),s("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){e.goCompany("userIdent")}}},[e._v("\n\t\t\t\t\t"+e._s(e.$t("btn2"))+"\n\t\t\t\t\t"),s("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1),e._v(" "),"error"==e.userType.type?s("div",{staticClass:"btn-con"},[s("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){e.goCompany("userIdent")}}},[e._v("\n\t\t\t\t\t"+e._s(e.$t("btn3"))+"\n\t\t\t\t\t"),s("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1):e._e()],1)])])},staticRenderFns:[]};var p=s("C7Lr")(d,u,!1,function(e){s("N+wB"),s("3gUE")},"data-v-6c0222ce",null);t.default=p.exports},"N+wB":function(e,t){},Qz9g:function(e,t,s){e.exports=s.p+"static/img/hzzm.bf841ed.png"}});
//# sourceMappingURL=4.634a03a32248a3c1d3eb.js.map