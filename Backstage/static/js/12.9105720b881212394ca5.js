webpackJsonp([12],{Vjjf:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("4YfN"),r=s.n(n),a=s("9rMa"),i=s("6iV/"),o=s.n(i),d={data:function(){return{mintAddress:"",mintNumber:0,transferAddress:"",transferNumber:0,allTokenNum:0}},computed:r()({},Object(a.b)({Address:function(t){return t.web3.coinbase}}),{mintCode:function(){return 0==this.mintNumber||NaN==this.mintNumber?"约 0 %":"约 "+100*this.mintNumber/Number(this.allTokenNum).toFixed(2)+" %"},transferCode:function(){return 0==this.transferNumber||NaN==this.transferNumber?"约 0 %":"约 "+100*this.transferNumber/Number(this.allTokenNum).toFixed(2)+" %"}}),methods:{balanceof:function(){this.$store.state.userInstance().methods.totalSupply().call({from:this.Address}).then(function(t){console.log(t)})},mint:function(t,e){var s=this,n=this;this.$store.state.userInstance().methods.getPosition(t).call().then(function(r){0!=r?s.$store.state.userInstance().methods.addVoteList(1,s.Address,t,e,"给"+t+"增发"+e+"枚Token").send({from:s.Address}).on("transactionHash",function(t){n.$Spin.show()}).then(function(n){var r=n.events.createVote.returnValues.codes;s.$Spin.hide(),s.takeVote(t,1,e,"给"+t+"增发"+e+"枚Token",r)}):s.$Notice.warning({title:"目标需通过KYC认证！"})})},transfer:function(t,e){var s=this,n=this;this.$store.state.userInstance().methods.getPosition(t).call().then(function(r){0!=r?s.$store.state.userInstance().methods.addVoteList(2,s.Address,t,e,"给"+t+"转让"+e+"枚Token").send({from:s.Address}).on("transactionHash",function(t){n.$Spin.show()}).then(function(n){var r=n.events.createVote.returnValues.codes;s.$Spin.hide(),s.takeVote(t,2,e,"给"+t+"转让"+e+"枚Token",r)}):s.$Notice.warning({title:"目标需通过KYC认证！"})})},takeVote:function(t,e,s,n,r){var a=this,i={only:this.$route.query.only,type:e,content:n,address:this.Address,target:t,number:s,keyname:r};this.$axios({method:"post",url:"/index.php/cn/home/node_su/meeting",data:o.a.stringify(i)}).then(function(t){return 0==t.data.state?(a.$Notice.info({title:"会议提交成功！"}),a.$router.push({path:"VirtualBoardroom",query:{only:a.$route.query.only}}),!0):(a.$Notice.warning({title:"无当前组织信息！"}),a.$router.push({path:"/"}),!1)})}},created:function(){var t=this,e={only:this.$route.query.only};this.$axios({method:"post",url:"/index.php/cn/home/node_se/company",data:o.a.stringify(e)}).then(function(e){return 0==e.data.state?(t.allTokenNum=e.data.info.token_number,!0):(t.$Notice.warning({title:"无当前组织信息！"}),t.$router.push({path:"/"}),!1)})}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Breadcrumb",{staticClass:"bread"},[s("div",{staticClass:"title"},[t._v("增发和转让")])]),t._v(" "),s("Row",[s("Col",{attrs:{span:"24"}},[s("Card",{staticClass:"mint",attrs:{bordered:!1}},[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("股权增发")]),t._v(" "),s("div",{staticClass:"msgBoard"},[s("p",[s("b",[t._v("钱包地址")]),t._v(t._s(t.Address))]),t._v(" "),s("p",[s("b",[t._v("目标地址")]),s("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入目标地址"},model:{value:t.mintAddress,callback:function(e){t.mintAddress=e},expression:"mintAddress"}})],1),t._v(" "),s("p",[s("b",[t._v("增发数量")]),s("InputNumber",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入增发数量"},model:{value:t.mintNumber,callback:function(e){t.mintNumber=e},expression:"mintNumber"}}),s("span",[t._v(t._s(t.mintCode))])],1),t._v(" "),s("div",{staticClass:"btn"},[s("Button",{attrs:{type:"primary",size:"large",icon:"md-git-compare"},on:{click:function(e){t.mint(t.mintAddress,t.mintNumber)}}},[t._v("发起决议")])],1)])])],1),t._v(" "),s("Col",{attrs:{span:"24"}},[s("Card",{staticClass:"transfer",attrs:{bordered:!1}},[s("p",{attrs:{slot:"title"},slot:"title"},[t._v("股权转让")]),t._v(" "),s("div",{staticClass:"msgBoard"},[s("p",[s("b",[t._v("钱包地址")]),t._v(t._s(t.Address))]),t._v(" "),s("p",[s("b",[t._v("目标地址")]),s("Input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入目标地址"},model:{value:t.transferAddress,callback:function(e){t.transferAddress=e},expression:"transferAddress"}})],1),t._v(" "),s("p",[s("b",[t._v("转让数量")]),s("InputNumber",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入转发数量"},model:{value:t.transferNumber,callback:function(e){t.transferNumber=e},expression:"transferNumber"}}),s("span",[t._v(t._s(t.transferCode))])],1),t._v(" "),s("div",{staticClass:"btn"},[s("Button",{attrs:{type:"primary",size:"large",icon:"md-git-compare"},on:{click:function(e){t.transfer(t.transferAddress,t.transferNumber)}}},[t._v("发起决议")])],1)])])],1)],1)],1)},staticRenderFns:[]};var c=s("C7Lr")(d,u,!1,function(t){s("e/xO")},"data-v-3864f59c",null);e.default=c.exports},"e/xO":function(t,e){}});
//# sourceMappingURL=12.9105720b881212394ca5.js.map