{"version":3,"sources":["webpack:///src/page/home/VirtualBoardroom.vue","webpack:///./src/page/home/VirtualBoardroom.vue?19fa","webpack:///./src/page/home/VirtualBoardroom.vue"],"names":["VirtualBoardroom","data","searchInput","searchType","addVoteInput","isShowDrawer","isAddDrawer","typeList","title","vals","pStyle","fontSize","color","lineHeight","display","marginBottom","voteList","computed","extends_default","Object","vuex_esm","Address","state","web3","coinbase","methods","takeVote","_this2","this","_this","$store","userInstance","addVoteList","send","from","on","receipt","$Spin","show","then","result","codes","events","createVote","returnValues","hide","only","$route","query","type","content","address","keyname","$axios","method","url","lib_default","a","stringify","response","$Notice","info","mountedRefreshList","warning","$router","push","path","userVote","id","_this3","flag","console","log","setVoteList","changeSearchType","searchVote","condition","returnTypeMsg","search","searchList","newData","_this4","list","i","length","start_time","mutil","timestampToTime","remnant","toFixed","F","surname","name","no_proportion","Number","yes_proportion","btn_show","throw","msg","surname_t","name_t","yes_number","created","home_VirtualBoardroom","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on-change","$event","model","value","callback","$$v","expression","_l","item","attrs","label","staticStyle","width","placeholder","slot","click","size","icon","xs","sm","lg","bordered","max-width","_s","quorum","percent","status","_e","addVote","closable","autosize","minRows","maxRows","long","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.5128ca3229bd457496a6.js","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<Breadcrumb class=\"bread\">\r\n\t\t\t<div class=\"title\">虚拟会议室</div>\r\n\t\t\t<div class=\"b_func\">\r\n\t\t\t\t<div class=\"searchForm\">\r\n\t\t\t\t\t<RadioGroup v-model=\"searchType\" class='radio' @on-change=\"changeSearchType(searchType)\">\r\n\t\t\t\t\t\t<Radio :label=\"item.title\" v-for=\"item in typeList\" :value=\"item.vals\"></Radio>\r\n\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Input  placeholder=\"会议查询\" v-model=\"searchInput\"  style=\"width:300px\">\r\n\t\t\t\t\t\t\t<Button slot=\"append\" @click=\"searchVote()\">\r\n\t\t\t\t\t\t\t\t<Icon type=\"ios-search\" size=\"16\"/>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"addVote\">\r\n\t\t\t\t\t<Button type=\"primary\" size=\"large\" @click=\"isAddDrawer = !isAddDrawer\" icon=\"md-barcode\" >发起决议</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Breadcrumb>\r\n\t\t<Row v-if=\"voteList.length > 0\">\r\n\t\t\t<Col  :xs=\"24\" :sm=\"12\" :lg=\"8\" v-for=\"item in voteList\">\r\n\t\t\t\t<Card :bordered=\"false\" class=\"voteItem\">\r\n\t\t\t\t\t<p slot=\"title\">\r\n\t\t\t\t\t\t<Tooltip max-width=\"300\" :content=\"item.content\">\r\n\t\t\t\t\t\t\t<p class=\"tooltip-msg\">{{item.content}}</p>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div class=\"msgBoard\">\r\n\t\t\t\t\t\t<p><b>发起时间</b>{{item.start_time}}</p>\r\n\t\t\t\t\t\t<p><b>表决状态</b>{{item.state}}</p>\r\n\t\t\t\t\t\t<p><b>决议发起人</b>{{item.name}}</p>\r\n\t\t\t\t\t\t<p><b>同意<span>({{item.quorum}}%可通过审核)</span></b> <Progress :percent=\"item.yes_proportion\" status=\"active\" /></p>\r\n\t\t\t\t\t\t<p><b>否决</b> <Progress :percent=\"item.no_proportion\" class=\"warningProgress\"/></p>\r\n\t\t\t\t\t\t<div class=\"btn\" v-if=\"item.btn_show\">\r\n\t\t\t\t\t\t\t<Button type=\"success\" size=\"large\" icon=\"md-albums\" @click=\"userVote(1,item.id,item.keyname)\">同意</Button>\r\n\t\t\t\t\t\t\t<Button type=\"info\" size=\"large\" icon=\"md-albums\" @click=\"userVote(2,item.id,item.keyname)\">否决</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t\t\r\n\t\t<div class=\"mouldBoard\" v-else>\r\n\t\t\t<Card :bordered=\"false\" class=\"mouldItem\">\r\n\t\t\t\t<div class=\"msgBoard\">\r\n\t\t\t\t\t<p>暂无表决记录，立即发起表决</p>\r\n\t\t\t\t\t<Button type=\"primary\" @click=\"addVote()\" size=\"large\" icon=\"md-barcode\" >发起决议</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t\t<Drawer title=\"新的表决\" width=\"350\" :closable=\"false\" v-model=\"isAddDrawer\" class=\"newVoteBoard\">\r\n\t\t\t<div>\r\n\t\t\t\t<!--<h4>新的表决</h4>-->\r\n\t\t\t\t<p>决议内容</p>\r\n\t\t\t\t<Input v-model=\"addVoteInput\" type=\"textarea\" :autosize=\"{minRows: 3,maxRows: 5}\" placeholder=\"请填写决议内容\" />\r\n\t\t\t\t<div class=\"btn\">\r\n\t\t\t\t\t<Button type=\"success\" long @click=\"takeVote\">发起决议</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Drawer>\r\n\t\t\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Qs from 'qs'\r\n\timport {mapState} from 'vuex'\r\n\timport mutil from '@/util/mutil'\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tsearchInput: '',\r\n\t\t\t\tsearchType: '表决中',\r\n\t\t\t\taddVoteInput: '',\r\n\t\t\t\tisShowDrawer: false,\r\n\t\t\t\tisAddDrawer: false,\r\n\t\t\t\ttypeList:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle:'全部',\r\n\t\t\t\t\t\tvals: 4\r\n\t\t\t\t\t},{\r\n\t\t\t\t\t\ttitle:'表决中',\r\n\t\t\t\t\t\tvals: 0\r\n\t\t\t\t\t},{\r\n\t\t\t\t\t\ttitle:'已通过',\r\n\t\t\t\t\t\tvals: 1\r\n\t\t\t\t\t},{\r\n\t\t\t\t\t\ttitle:'未通过',\r\n\t\t\t\t\t\tvals: 2\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tpStyle: {\r\n                    fontSize: '16px',\r\n                    color: 'rgba(0,0,0,0.85)',\r\n                    lineHeight: '24px',\r\n                    display: 'block',\r\n                    marginBottom: '16px'\r\n                },\r\n\t\t\t\tvoteList:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tAddress: state => state.web3.coinbase\r\n\t\t\t})\r\n\t\t},\t\r\n\t\tmethods:{\r\n\t\t\ttakeVote(){\r\n\t\t\t\tif(this.addVoteInput != ''){\r\n\t\t\t\t\tlet _this = this;\r\n\t\t\t\t\tthis.$store.state.userInstance().methods.addVoteList(0,this.Address,this.Address,0, this.addVoteInput).send({\r\n\t\t\t\t\t\tfrom: this.Address\r\n\t\t\t\t\t}).on('transactionHash',function( receipt){\r\n\t\t\t\t\t\t_this.$Spin.show()\r\n\t\t\t\t\t}).then(result => {\r\n\t\t\t\t\t\tlet codes = result.events.createVote.returnValues.codes\r\n\t\t\t\t\t\tthis.$Spin.hide()\r\n\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\t\"only\":this.$route.query.only,\r\n\t\t\t\t\t\t\t\"type\": 0,\r\n\t\t\t\t\t\t\t\"content\": this.addVoteInput,\r\n\t\t\t\t\t\t\t\"address\": this.Address,\r\n\t\t\t\t\t\t\t\"keyname\": codes\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\t\turl: '/index.php/cn/home/node_su/meeting',\r\n\t\t\t\t\t\t\tdata: Qs.stringify(data)\r\n\t\t\t\t\t\t}).then((response) => {\r\n\t\t\t\t\t\t\tif(response.data.state == 0){\r\n\t\t\t\t\t\t\t\tthis.$Notice.info({\r\n\t\t\t\t\t\t\t\t\ttitle: '会议提交成功！'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.mountedRefreshList()\r\n\t\t\t\t\t\t\t\tthis.isAddDrawer = !this.isAddDrawer\r\n\t\t\t\t\t\t\t\tthis.addVoteInput = ''\r\n\t\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.$Notice.warning({\r\n\t\t\t\t\t\t\t\t\ttitle: '无该成员信息！'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\t\tpath:'/'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$Notice.warning({\r\n\t\t\t\t\t\ttitle: '表决内容不能为空！'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuserVote(state,id,codes){\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tlet flag = state == 1 ? true : false\r\n\t\t\t\tconsole.log(codes,flag)\r\n\t\t\t\tthis.$store.state.userInstance().methods.setVoteList(codes,flag).send({\r\n\t\t\t\t\tfrom: this.Address\r\n\t\t\t\t}).on('transactionHash',function( receipt){\r\n\t\t\t\t\t_this.$Spin.show()\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\tthis.$Spin.hide()\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\"only\":this.$route.query.only,\r\n\t\t\t\t\t\t\"state\": state,\r\n\t\t\t\t\t\t\"id\": id,\r\n\t\t\t\t\t\t\"address\": this.Address\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.$axios({\r\n\t\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\t\turl: '/index.php/cn/home/node_su/vote',\r\n\t\t\t\t\t\tdata: Qs.stringify(data)\r\n\t\t\t\t\t}).then((response) => {\r\n\t\t\t\t\t\tif(response.data.state == 0){\r\n\t\t\t\t\t\t\tthis.$Notice.info({\r\n\t\t\t\t\t\t\t\ttitle: '投票成功！'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.changeSearchType(this.searchType)\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$Notice.warning({\r\n\t\t\t\t\t\t\t\ttitle: '无该成员信息！'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\t\tpath:'/'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearchVote(){\r\n\t\t\t\tlet condition = returnTypeMsg(title) == 4 ? 0 : 1\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"only\":this.$route.query.only,\r\n\t\t\t\t\t\"address\": this.Address,\r\n\t\t\t\t\t\"search\": this.searchInput,\r\n\t\t\t\t\t\"state\": returnTypeMsg(this.searchType),\r\n\t\t\t\t\t\"condition\": condition\r\n\t\t\t\t};\r\n\t\t\t\tthis.searchList(data)\r\n\t\t\t},\r\n\t\t\tchangeSearchType(title){\r\n\t\t\t\tlet condition = returnTypeMsg(title) == 4 ? 0 : 1\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"only\":this.$route.query.only,\r\n\t\t\t\t\t\"address\": this.Address,\r\n\t\t\t\t\t\"state\": returnTypeMsg(title),\r\n\t\t\t\t\t\"condition\": condition\r\n\t\t\t\t};\r\n\t\t\t\tthis.searchList(data)\r\n\t\t\t},\r\n\t\t\tsearchList(newData){\r\n\t\t\t\tlet data = newData\r\n\t\t\t\tthis.$axios({\r\n\t\t\t\t\tmethod: 'post',\r\n\t\t\t\t\turl: '/index.php/cn/home/node_se/meeting_list',\r\n\t\t\t\t\tdata: Qs.stringify(data)\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tif(response.data.state == 0){\r\n\t\t\t\t\t\tlet list = response.data.info\r\n\t\t\t\t\t\tfor(let i=0; i<list.length;i++){\r\n\t\t\t\t\t\t\t//let lastTimeHint = new Date(timestamp * 1000).get;\r\n\t\t\t\t\t\t\tlist[i].start_time =  mutil.timestampToTime(list[i].start_time) + '(剩余约'+ list[i].remnant.toFixed(2) +'个小时)'\r\n\t\t\t\t\t\t\tlist[i].F =  list[i].surname + list[i].name \r\n\t\t\t\t\t\t\tlist[i].id =  list[i].id \r\n\t\t\t\t\t\t\tlist[i].no_proportion =  Number(list[i].no_proportion )\r\n\t\t\t\t\t\t\tlist[i].yes_proportion =  Number(list[i].yes_proportion )\r\n\t\t\t\t\t\t\tlist[i].btn_show = false\r\n\t\t\t\t\t\t\tif(list[i].state == 0 && list[i].throw == 0){\r\n\t\t\t\t\t\t\t\tlist[i].btn_show = true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlist[i].state = returnTypeMsg(list[i].state)\r\n\t\t\t\t\t\t\tlist[i].keyname = list[i].keyname\r\n\t\t\t\t\t\t\tif(list[i].type != 0){\r\n\t\t\t\t\t\t\t\tlet msg = list[i].type == 1 ? '增发' : '转账'\r\n\t\t\t\t\t\t\t\tlist[i].content = '给' + list[i].surname_t + list[i].name_t  + msg + list[i].yes_number + '枚Token'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.voteList = list\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$Notice.warning({\r\n\t\t\t\t\t\t\ttitle: '无该成员信息！'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\tpath:'/'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmountedRefreshList(){\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"only\":this.$route.query.only,\r\n\t\t\t\t\t\"address\": this.Address,\r\n\t\t\t\t\t\"state\": 0\r\n\t\t\t\t};\r\n\t\t\t\tthis.searchList(data)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.mountedRefreshList()\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction returnTypeMsg(msg){\r\n\t\tswitch(msg){\r\n\t\t\tcase '表决中':\r\n\t\t\t\tmsg = 0\r\n\t\t\t\tbreak;\r\n\t\t\tcase '已通过':\r\n\t\t\t\tmsg = 1\r\n\t\t\t\tbreak;\r\n\t\t\tcase '未通过':\r\n\t\t\t\tmsg = 2\r\n\t\t\t\tbreak;\r\n\t\t\tcase '全部':\r\n\t\t\t\tmsg = 4\r\n\t\t\t\tbreak;\r\n\t\t\tcase '0':\r\n\t\t\t\tmsg = '表决中'\r\n\t\t\t\tbreak;\r\n\t\t\tcase '1':\r\n\t\t\t\tmsg = '已通过'\r\n\t\t\t\tbreak;\r\n\t\t\tcase '2':\r\n\t\t\t\tmsg = '未通过'\r\n\t\t\t\tbreak;\r\n\t\t\tcase '4':\r\n\t\t\t\tmsg = '全部'\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn msg\r\n\t}\r\n</script>\r\n<style>\r\n\t.warningProgress .ivu-progress-bg{\r\n\t\tbackground-color: #ed4014\r\n\t}\r\n\t.tooltip-msg{\r\n\t\twidth: 300px\t\r\n\t}\r\n</style>\r\n\r\n<style scoped lang=\"stylus\">\r\n\tflexs()\r\n\t\tdisplay:flex\r\n\t\talign-items: center\r\n\t\tjustify-content: space-between\r\n\t\t\r\n\t.bread\r\n\t\tflexs()\r\n\t\t.b_func\r\n\t\t\tflexs()\r\n\t\t\tflex-basis: 800px\r\n\t\t\t.searchForm\r\n\t\t\t\tflexs()\r\n\t\t\t\t.radio\r\n\t\t\t\t\tmargin-right: 30px\r\n\t\t\t.addVote\r\n\t\t\t\tmargin-right: 30px\r\n\t\t\t\r\n\t.voteItem\r\n\t\tmin-height: 350px\r\n\t\tmargin: 0 30px 30px 0\r\n\t\t.msgBoard\r\n\t\t\tpadding: 20px 16px;\r\n\t\t\tp\r\n\t\t\t\tmargin-top: 14px\r\n\t\t\t\tb\r\n\t\t\t\t\tmargin-right: 16px\r\n\t\t\t\t\tdisplay: inline-block\r\n\t\t\t\t\tmin-width: 100px\r\n\t\t\t\t\tfont-weight: 400\r\n\t\t\t\t&:first-child\r\n\t\t\t\t\tmargin-top: 0\r\n\t\t\t\r\n\t\t\t.btn\r\n\t\t\t\ttext-align: right\r\n\t\t\t\tmargin-top: 20px\r\n\t\r\n\t.mouldBoard\r\n\t\tmargin-top: 100px\r\n\t\tflexs()\r\n\t\tjustify-content: center\r\n\t\t.mouldItem\r\n\t\t\twidth: 350px\r\n\t\t\theight: 300px\r\n\t\t\tflexs()\r\n\t\t\t.msgBoard\r\n\t\t\t\twidth: 350px\r\n\t\t\t\tpadding: 0 20px\r\n\t\t\t\ttext-align:center\r\n\t\t\t\tp\r\n\t\t\t\t\tcolor: #9ea7b4\r\n\t\t\t\t\tmargin-bottom: 30px\r\n\t\t\t\t\tfont-size: 18px\r\n\t\r\n\t.newVoteBoard\r\n\t\th4\r\n\t\t\tmargin-bottom:20px\r\n\t\tp\r\n\t\t\tmargin-bottom:5px\r\n\t\t\t&.hint\r\n\t\t\t\tcolor: #9ea7b4\r\n\t\t\t\tmargin-top: 5px\r\n\t\t.btn\r\n\t\t\tmargin-top: 50px\r\n\t\t\t\r\n</style>\r\n<style>\r\n\t.ivu-tooltip p.tooltip-msg{\r\n\t\t\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/home/VirtualBoardroom.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Breadcrumb',{staticClass:\"bread\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"虚拟会议室\")]),_vm._v(\" \"),_c('div',{staticClass:\"b_func\"},[_c('div',{staticClass:\"searchForm\"},[_c('RadioGroup',{staticClass:\"radio\",on:{\"on-change\":function($event){_vm.changeSearchType(_vm.searchType)}},model:{value:(_vm.searchType),callback:function ($$v) {_vm.searchType=$$v},expression:\"searchType\"}},_vm._l((_vm.typeList),function(item){return _c('Radio',{attrs:{\"label\":item.title,\"value\":item.vals}})})),_vm._v(\" \"),_c('div',[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"会议查询\"},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}},[_c('Button',{attrs:{\"slot\":\"append\"},on:{\"click\":function($event){_vm.searchVote()}},slot:\"append\"},[_c('Icon',{attrs:{\"type\":\"ios-search\",\"size\":\"16\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"addVote\"},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"icon\":\"md-barcode\"},on:{\"click\":function($event){_vm.isAddDrawer = !_vm.isAddDrawer}}},[_vm._v(\"发起决议\")])],1)])]),_vm._v(\" \"),(_vm.voteList.length > 0)?_c('Row',_vm._l((_vm.voteList),function(item){return _c('Col',{attrs:{\"xs\":24,\"sm\":12,\"lg\":8}},[_c('Card',{staticClass:\"voteItem\",attrs:{\"bordered\":false}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('Tooltip',{attrs:{\"max-width\":\"300\",\"content\":item.content}},[_c('p',{staticClass:\"tooltip-msg\"},[_vm._v(_vm._s(item.content))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"msgBoard\"},[_c('p',[_c('b',[_vm._v(\"发起时间\")]),_vm._v(_vm._s(item.start_time))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"表决状态\")]),_vm._v(_vm._s(item.state))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"决议发起人\")]),_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"同意\"),_c('span',[_vm._v(\"(\"+_vm._s(item.quorum)+\"%可通过审核)\")])]),_vm._v(\" \"),_c('Progress',{attrs:{\"percent\":item.yes_proportion,\"status\":\"active\"}})],1),_vm._v(\" \"),_c('p',[_c('b',[_vm._v(\"否决\")]),_vm._v(\" \"),_c('Progress',{staticClass:\"warningProgress\",attrs:{\"percent\":item.no_proportion}})],1),_vm._v(\" \"),(item.btn_show)?_c('div',{staticClass:\"btn\"},[_c('Button',{attrs:{\"type\":\"success\",\"size\":\"large\",\"icon\":\"md-albums\"},on:{\"click\":function($event){_vm.userVote(1,item.id,item.keyname)}}},[_vm._v(\"同意\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"info\",\"size\":\"large\",\"icon\":\"md-albums\"},on:{\"click\":function($event){_vm.userVote(2,item.id,item.keyname)}}},[_vm._v(\"否决\")])],1):_vm._e()])])],1)})):_c('div',{staticClass:\"mouldBoard\"},[_c('Card',{staticClass:\"mouldItem\",attrs:{\"bordered\":false}},[_c('div',{staticClass:\"msgBoard\"},[_c('p',[_vm._v(\"暂无表决记录，立即发起表决\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"large\",\"icon\":\"md-barcode\"},on:{\"click\":function($event){_vm.addVote()}}},[_vm._v(\"发起决议\")])],1)])],1),_vm._v(\" \"),_c('Drawer',{staticClass:\"newVoteBoard\",attrs:{\"title\":\"新的表决\",\"width\":\"350\",\"closable\":false},model:{value:(_vm.isAddDrawer),callback:function ($$v) {_vm.isAddDrawer=$$v},expression:\"isAddDrawer\"}},[_c('div',[_c('p',[_vm._v(\"决议内容\")]),_vm._v(\" \"),_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 3,maxRows: 5},\"placeholder\":\"请填写决议内容\"},model:{value:(_vm.addVoteInput),callback:function ($$v) {_vm.addVoteInput=$$v},expression:\"addVoteInput\"}}),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('Button',{attrs:{\"type\":\"success\",\"long\":\"\"},on:{\"click\":_vm.takeVote}},[_vm._v(\"发起决议\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6a3142ec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/page/home/VirtualBoardroom.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a3142ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./VirtualBoardroom.vue\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a3142ec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./VirtualBoardroom.vue\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a3142ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=2!./VirtualBoardroom.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./VirtualBoardroom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./VirtualBoardroom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a3142ec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./VirtualBoardroom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6a3142ec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/home/VirtualBoardroom.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}